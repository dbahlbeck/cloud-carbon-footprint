(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{110:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return r})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var s=n(3),o=n(7),a=(n(0),n(123)),i={id:"classifying-usage-types",title:"Classifying Usage Types",slug:"/classifying-usage-types"},r={unversionedId:"classifying-usage-types",id:"classifying-usage-types",isDocsHomePage:!1,title:"Classifying Usage Types",description:"In order to estimate the energy and carbon emissions for a given amount of cloud provider usage, we need to first classify a row of usage as either Compute, SSD Storage, HDD Storage, Networking or Memory. It's also possible that the usage row is unknown, which we have a process or reclassify here, or unsupported, in which case the application ignores these rows. To understand the steps involved in the classification, please see the methodology page. Once the application has classified the usage row, it then uses the associated usage amount when estimating energy and carbon emissions.",source:"@site/docs/ClassifyingUsageTypes.md",slug:"/classifying-usage-types",permalink:"/docs/classifying-usage-types",version:"current",sidebar:"tryNowSidebar",previous:{title:"Methodology",permalink:"/docs/methodology"},next:{title:"Embodied Emissions",permalink:"/docs/embodied-emissions"}},c=[{value:"Handling Unknown Usage Types",id:"handling-unknown-usage-types",children:[{value:"Applying the Co2e/Cost Coefficient",id:"applying-the-co2ecost-coefficient",children:[]}]}],l={toc:c};function u(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(s.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"In order to estimate the energy and carbon emissions for a given amount of cloud provider usage, we need to first classify a row of usage as either Compute, SSD Storage, HDD Storage, Networking or Memory. It's also possible that the usage row is unknown, which we have a process or reclassify ",Object(a.b)("a",{parentName:"p",href:"/docs/classifying-usage-types#handling-unknown-usage-types"},"here"),", or unsupported, in which case the application ignores these rows. To understand the steps involved in the classification, please see the ",Object(a.b)("a",{parentName:"p",href:"/docs/methodology#1-using-billing-data-for-cloud-usage-holistic"},"methodology page"),". Once the application has classified the usage row, it then uses the associated usage amount when estimating energy and carbon emissions."),Object(a.b)("p",null,"In order to make these classification decisions, we pulled all the various types of usage rows that Thoughtworks has utilized into a spreadsheet for analysis. We then researched each type of usage using publicly available information from the cloud providers about the underlying services, often looking at documentation regarding payment/costs as this often gives hints as to the usage type. We have published these usage types and the various classifications in ",Object(a.b)("a",{parentName:"p",href:"https://docs.google.com/spreadsheets/d/1rMt1lb3G23JnwbAODCka1ohrbl-4pELFSqi6xwwW4q4/"},"this spreadsheet")," with detailed notes and links to sources when available. "),Object(a.b)("p",null,"Given that these usage types have been derived from Thoughtworks' usage, there may be usage types missing that aren't currently supported. If this is case for when using the application, please see instructions for adding unsupported usage types in the documentation for your cloud provider: ",Object(a.b)("a",{parentName:"p",href:"/docs/aws#unsupported-usage-types"},"AWS"),", ",Object(a.b)("a",{parentName:"p",href:"/docs/gcp#unsupported-usage-types"},"GCP")," and ",Object(a.b)("a",{parentName:"p",href:"/docs/azure#unsupported-usage-types"},"Azure"),". We welcome feedback any/all on these classifications."),Object(a.b)("h2",{id:"handling-unknown-usage-types"},"Handling Unknown Usage Types"),Object(a.b)("p",null,"Currently, the application is built to support the energy and carbon emissions estimations for Compute, Storage, Networking and Memory usage types. Per cloud provider, there is a unique list of services and usage types that we intentionally classify as \u201cUnsupported\u201d. Some of these we do not intend to estimate energy usage, (i.e. Refunds, or License fees)."),Object(a.b)("p",null,"There are, however, a number of billing line items that may not meet the criteria to be classified with a high degree of confidence as compute, storage, networking or memory - despite us having confidence there is energy and carbon emissions associated with them. This can be the case with higher level managed services where we have little information about the underlying infrastructure provisioned. For these line items, we have developed an approach that estimates energy and carbon emissions using cost as a proxy. For each of these line items we identify the best fit usage type (compute, storage, networking, memory), and then use the average CO2e per dollar of that type to calculate the carbon from the line item\u2019s cost."),Object(a.b)("h3",{id:"applying-the-co2ecost-coefficient"},"Applying the Co2e/Cost Coefficient"),Object(a.b)("p",null,"The Co2e/Cost Coefficient is dynamically determined by calculating the sum of the Co2e and Cost respectively per each classification and then dividing that total CO2e by the total cost. For example, if the sum of all the usage classified as Compute was found to be 10 metric tons of Co2e and $10,000 of Cost, the \u201ccompute coefficient\u201d would be 0.001 metric tons/dollars (10 metric tons / $10,000). "),Object(a.b)("p",null,"Once we determine the coefficient for each classification, we are able to attempt to \u201cre-classify\u201d the previously determined Unknown usage types. This approach varies from checking the usage unit, to parsing out specific strings from the usage type description of the Unknown usage. For example, if the Unknown usage has a usage unit of \u201c10 Hours\u201d or \u201cseconds\u201d, or the usage type description contains the string \u201c2 vCPU\u201d, we can reasonably assume this could be re-classified as Compute. You can see examples of these re-classified Unknown usage rows for each cloud provider in ",Object(a.b)("a",{parentName:"p",href:"https://docs.google.com/spreadsheets/d/1vA91srfzCCQUSfDnvSxCLr30a0KzdoiGt1CQ2T8LrDY/edit?usp=sharing"},"this spreadsheet"),"."),Object(a.b)("p",null,"Once we make this reclassification, we multiply the respective Co2e/Cost Coefficient by the cost of the specific Unknown usage to determine a Co2e estimation. In the current example where we have re-classified the Unknown usage as Compute, we can hypothetically say this usage has a cost of $200. We can then calculate a Co2e estimation by multiplying the $200 cost by the determined Compute coefficient of 0.001 to return 0.02 metric tons. The energy (kilowatt-hours) can then be determined by dividing the estimated CO2e by the regional Emissions Factor for that usage row."),Object(a.b)("p",null,"We use the same approach for re-classifying Unknown usages as Compute, Storage, Networking and Memory. If we are still unable to re-classify the usage, it will remain as Unknown and we will multiply the cost of the Unknown usage by a CO2e/Cost coefficient based on the total cost and total co2e of that specific cloud provider usage. These dynamic coefficients will be consumer specific as each user of the application will have different sums of cost and co2e."),Object(a.b)("p",null,"We welcome any and all feedback on this approach, or suggestions for entirely different approaches to handling Unknown cloud usage."))}u.isMDXComponent=!0},123:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var s=n(0),o=n.n(s);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,s,o=function(e,t){if(null==e)return{};var n,s,o={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=o.a.createContext({}),u=function(e){var t=o.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=u(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=o.a.forwardRef((function(e,t){var n=e.components,s=e.mdxType,a=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=u(n),d=s,f=p["".concat(i,".").concat(d)]||p[d]||h[d]||a;return n?o.a.createElement(f,r(r({ref:t},l),{},{components:n})):o.a.createElement(f,r({ref:t},l))}));function f(e,t){var n=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var a=n.length,i=new Array(a);i[0]=d;var r={};for(var c in t)hasOwnProperty.call(t,c)&&(r[c]=t[c]);r.originalType=e,r.mdxType="string"==typeof e?e:s,i[1]=r;for(var l=2;l<a;l++)i[l]=n[l];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);